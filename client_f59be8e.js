webpackJsonp([5],{127:function(e,t,n){e.exports=n(128)},128:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(45),r=n.n(a),l=n(143),o=(n.n(l),n(220)),i=n(274);n.n(i);setTimeout(function(){n.e(2).then(n.bind(null,278)).then(function(e){e.install()})});var c=document.getElementById("root");Object(l.render)(r.a.createElement(o.a,null),c)},220:function(e,t,n){"use strict";var a=n(221),r=n.n(a),l=n(225),o=n.n(l),i=n(120),c=n.n(i),s=n(121),u=n.n(s),m=n(122),d=n.n(m),p=n(126),v=n.n(p),h=n(45),f=n.n(h),E=n(264),b=function(e){function t(){var e,n,a,r;c()(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=d()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={text:"",q:!0,v:!0,l:!0,data:[]},a.searchInput=function(){var e=void 0;return function(t){var n=t.currentTarget.value.trim();clearTimeout(e),e=setTimeout(function(){a.setState({text:n})},500)}}(),r=n,d()(a,r)}return v()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this,t="Time to download dictionary";console.time(t),Promise.all([n.e(1).then(n.bind(null,275)),n.e(0).then(n.bind(null,276)),n.e(3).then(n.bind(null,277))]).then(function(n){var a=o()(n,3),r=a[0],l=a[1],i=a[2],c="Time 2 init index";console.time(c);var s=i.Index.load(l);e.setState({data:r,index:s}),console.timeEnd(c),console.timeEnd(t)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.q,l=t.v,o=t.l;return f.a.createElement("div",{className:"flex flex-column",style:{maxHeight:"100vh",overflowY:"hidden"}},f.a.createElement("h1",null,"Growing Up in New Zealand Data Dictionary"),f.a.createElement("input",{className:"block mb2 col-12 p1 border-box",placeholder:"search",onKeyUp:this.searchInput,disabled:!a&&!l&&!o}),f.a.createElement("div",{className:"flex mb3 col-12 justify-around"},f.a.createElement("span",null,"Include:"),[{t:"Question",v:"q"},{t:"Variable",v:"v"},{t:"Label",v:"l"}].map(function(t){return f.a.createElement("label",{key:t.t,className:"pointer"},f.a.createElement("input",{className:"mr1 pointer",type:"checkbox",checked:e.state[t.v],onChange:function(n){e.setState(r()({},t.v,n.currentTarget.checked))}}),t.t)})),n.length?f.a.createElement(E.a,this.state):f.a.createElement("div",null,f.a.createElement("div",{style:{textAlign:"center"}},"Loading..."),f.a.createElement("div",{className:"spinner"})))}}]),t}(h.Component);t.a=b},264:function(e,t,n){"use strict";function a(e){var t=e.q,n=e.v,a=e.s,l=e.l,o=e.metadata;if(!o)return f.a.createElement("tr",{key:n+a},f.a.createElement("td",null,f.a.createElement("span",{className:"block"},t)),f.a.createElement("td",null,f.a.createElement("span",{className:"block"},n+"_"+a)),f.a.createElement("td",null,f.a.createElement("span",{className:"block"},l)));var i={q:t,v:n+"_"+a,l:l},c={q:new Int8Array(t.length),v:new Int8Array(n.length+a.length+1),l:new Int8Array(l.length)};for(var s in o)for(var u in o[s])for(var m=o[s][u].position,d=-1;++d<m.length;)for(var p=m[d][0]-1,v=m[d][1]+p+1;++p<v;)c[u][p]=1;for(var h in c){for(var E=c[h].join(""),b=/1+/gm,y=void 0,g=[0];null!==(y=b.exec(E));)g.push(y.index,b.lastIndex);g.push(E.length);var x=i[h];i[h]=[];for(var k=-1;++k<g.length-1;){var q=x.slice(g[k],g[k+1]);k%2==0?i[h].push({t:q}):i[h].push({t:q,s:!0})}}return f.a.createElement("tr",{key:n+a},f.a.createElement("td",null,f.a.createElement("span",{className:"block"},i.q.map(r))),f.a.createElement("td",null,f.a.createElement("span",{className:"block"},i.v.map(r))),f.a.createElement("td",null,f.a.createElement("span",{className:"block"},i.l.map(r))))}function r(e,t){var n={backgroundColor:e.s?"yellow":""};return f.a.createElement("span",{key:t,style:n},e.t)}var l=n(265),o=n.n(l),i=n(120),c=n.n(i),s=n(121),u=n.n(s),m=n(122),d=n.n(m),p=n(126),v=n.n(p),h=n(45),f=n.n(h),E=n(270),b=n.n(E),y=n(272),g=(n.n(y),function(e){function t(){return c()(this,t),d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return v()(t,e),u()(t,[{key:"render",value:function(){var e=Date.now(),t=this.props,n=t.text,a=t.q,r=t.v,l=t.l,i=t.data,c=t.index,s=n&&n.replace(/[~:^'"\*]/gi,"").trim().split(" ").map(function(e){var t=[];return a&&t.push("q"),r&&t.push("v"),l&&t.push("l"),e.length<3?t.map(function(t){return t+":"+e+"^10 "+t+":"+e+"*"}).join(" "):t.map(function(t){return t+":"+e+"^200 "+t+":*"+e+"*^20 "+t+":"+e+"~1^5 "+t+":"+e+"*~2"}).join(" ")}).join(" "),u=c.search(s),m=u.length?u.map(function(e){var t=e.ref,n=e.matchData.metadata;return o()({},i[t],{metadata:n})}):i,d=(Date.now()-e)/1e3;return d=d+" "+(d>1?"seconds":"second"),f.a.createElement("div",{className:"flex flex-column"},f.a.createElement("div",{className:"m1",style:{whiteSpace:"pre"}},s&&(u.length?f.a.createElement("span",null,"Found ",u.length," ",f.a.createElement("small",null,"(in ",d,")")):"Cannot find: "+n)||" "),f.a.createElement("table",null,f.a.createElement("thead",{className:"h3"},f.a.createElement("tr",null,f.a.createElement("th",null,"Question"),f.a.createElement("th",null,"Variable"),f.a.createElement("th",null,"Value")))),f.a.createElement(x,{data:m}))}}]),t}(h.PureComponent));g.propTypes={text:b.a.string.isRequired,q:b.a.bool.isRequired,v:b.a.bool.isRequired,l:b.a.bool.isRequired,data:b.a.array.isRequired,index:b.a.object.isRequired},t.a=g;var x=function(e){function t(){var e,n,a,r;c()(this,t);for(var l=arguments.length,o=Array(l),i=0;i<l;i++)o[i]=arguments[i];return n=a=d()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={index:25},a.onScroll=function(e){if("DIV"===e.target.tagName){var t=a.refTable.getBoundingClientRect().bottom;if(t<a.previousBottom&&t<1.25*window.innerHeight){var n=a.state.index;n<a.props.data.length&&a.setState({index:n+25})}a.previousBottom=t}},a.refCb=function(e){a.refTable=e,a.previousBottom=e.getBoundingClientRect().bottom},r=n,d()(a,r)}return v()(t,e),u()(t,[{key:"componentWillReceiveProps",value:function(){this.setState({index:25}),this.refTable.scrollIntoView()}},{key:"render",value:function(){var e=this.props.data.slice(0,this.state.index);return f.a.createElement("div",{style:{overflowY:"auto"},onScroll:this.onScroll},f.a.createElement("table",{ref:this.refCb},f.a.createElement("tbody",null,e.map(a))))}}]),t}(h.Component);x.propTypes={data:b.a.array.isRequired}},272:function(e,t){},274:function(e,t){}},[127]);